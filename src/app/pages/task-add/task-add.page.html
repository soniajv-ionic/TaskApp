<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Add Task</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Add Task</ion-title>    
    </ion-toolbar>
  </ion-header>

  <ion-list>
    <ion-list>
      <ion-item>
        <ion-input label="Name" placeholder="Enter name" [(ngModel)]="taskName"></ion-input>
      </ion-item>
  
      <ion-item>
        <ion-input label="Description" placeholder="Enter description" [(ngModel)]="taskDescription"></ion-input>
      </ion-item>
  
      <ion-item>
        <!-- Botón que abre el datetime modal -->
        <ion-datetime-button [datetime]="datetime"></ion-datetime-button>
      
        <ion-modal [keepContentsMounted]="true" (ionModalDidDismiss)="onModalDismiss()">
          <ng-template>
            <ion-datetime
              #datetime
              presentation="date-time"
              [(ngModel)]="selectedDate"  <!-- Enlazamos el valor con la variable selectedDate -->
              [value]="initialDate"  <!-- Inicializa con la fecha y hora por defecto -->
              [formatOptions]="{
                date: {
                  weekday: 'short',
                  month: 'long',
                  day: '2-digit',
                },
                time: {
                  hour: '2-digit',
                  minute: '2-digit',
                },
              }"
            ></ion-datetime>
      
            <ion-button (click)="closeModal()">Seleccionar</ion-button> <!-- Botón para cerrar el modal -->
          </ng-template>
        </ion-modal>
      </ion-item>
      
  
      <ion-item>

        <ion-label>Priority</ion-label>
        <ion-select [(ngModel)]="taskPriority">
          <ion-select-option value="low">Low</ion-select-option>
          <ion-select-option value="medium">Medium</ion-select-option>
          <ion-select-option value="high">High</ion-select-option>
        </ion-select>
      </ion-item>
  
      <ion-item>
        <ion-toggle [(ngModel)]="taskDone">Done</ion-toggle>
      </ion-item>
      <ion-button (click)="submitTask()">Submit</ion-button>
    </ion-list>
  </ion-list>
</ion-content>

